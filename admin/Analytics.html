<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Analytics</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Segoe UI,Arial,sans-serif;
  background:#f1f5f9;
}

/* ===== LAYOUT ===== */
.app{
  display:flex;
  min-height:100vh;
}

/* ===== SIDEBAR ===== */
.sidebar{
  width:270px;
  background:linear-gradient(180deg,#0b5ed7,#0a3d91);
  color:white;
  padding:24px 18px;
}
.sidebar h2{
  text-align:center;
  margin-bottom:40px;
}
.sidebar a{
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px 16px;
  margin-bottom:12px;
  border-radius:14px;
  color:white;
  text-decoration:none;
  transition:.25s;
}
.sidebar a i{
  width:36px;
  height:36px;
  display:grid;
  place-items:center;
  background:rgba(255,255,255,.18);
  border-radius:10px;
}
.sidebar a:hover{
  background:rgba(255,255,255,.18);
  transform:translateX(6px);
}
.sidebar a.active{
  background:white;
  color:#0b5ed7;
  font-weight:600;
}
.sidebar a.active i{
  background:#0b5ed7;
  color:white;
}

/* ===== MAIN ===== */
.main{
  flex:1;
  display:flex;
  flex-direction:column;
}

/* ===== TOP BAR ===== */
.topbar{
  height:70px;
  background:white;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 28px;
  box-shadow:0 4px 12px rgba(0,0,0,.06);
}
.profile{
  display:flex;
  align-items:center;
  gap:10px;
}
.profile img{
  width:38px;
  height:38px;
  border-radius:50%;
}

/* ===== CONTENT ===== */
.content{
  padding:26px;
}

/* ===== KPI CARDS ===== */
.kpis{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.kpi{
  background:white;
  border-radius:18px;
  padding:22px;
  box-shadow:0 10px 24px rgba(0,0,0,.08);
}
.kpi h2{
  margin:0;
  font-size:26px;
  color:#0b5ed7;
}
.kpi p{
  margin:6px 0 0;
  color:#64748b;
}
.kpi span{
  font-size:13px;
  color:#16a34a;
}

/* ===== CHARTS ===== */
.charts{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:20px;
  margin-top:24px;
}
.chart-box{
  background:white;
  border-radius:18px;
  padding:20px;
  box-shadow:0 10px 24px rgba(0,0,0,.08);
}
.chart-box h4{
  margin-top:0;
}

/* ===== TABLE ===== */
.table-box{
  margin-top:24px;
  background:white;
  border-radius:18px;
  padding:20px;
  box-shadow:0 10px 24px rgba(0,0,0,.08);
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:14px;
  border-bottom:1px solid #e5e7eb;
  text-align:left;
}
th{
  background:#f8fafc;
}

/* ===== TAGS ===== */
.tag{
  padding:6px 12px;
  border-radius:20px;
  font-size:12px;
}
.success{background:#dcfce7;color:#166534}
.pending{background:#fef3c7;color:#92400e}

/* ===== FOOTER ===== */
.footer{
  margin-top:auto;
  background:#0a3d91;
  color:white;
  text-align:center;
  padding:14px;
  font-size:14px;
}
</style>
</head>

<body>

<div class="app">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h2>MyStore</h2>
    <a href="admin.html"><i class="fa fa-box"></i> Products</a>
    <a href="adminorder.html"><i class="fa fa-cart-shopping"></i> Orders</a>
    <a href="users.html"><i class="fa fa-users"></i> Users</a>
    <a class="active"><i class="fa fa-chart-line"></i> Analytics</a>
    <a href="settings.html"><i class="fa fa-gear"></i> Settings</a>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <!-- TOP BAR -->
    <div class="topbar">
      <h3>Analytics Dashboard</h3>
      <div class="profile">
        <span>Admin</span>
        <img src="https://i.pravatar.cc/150?img=12">
      </div>
    </div>

    <!-- CONTENT -->
    <div class="content">

      <!-- KPI -->
      <div class="kpis">
        <div class="kpi">
          <h2 id="totalProducts">0</h2>
          <p>Total Products</p>
          <span>Inventory count</span>
        </div>
        <div class="kpi">
          <h2 id="activeProducts">0</h2>
          <p>Active Products</p>
          <span>Visible in store</span>
        </div>
        <div class="kpi">
          <h2 id="totalStock">0</h2>
          <p>Total Stock</p>
          <span>All warehouses</span>
        </div>
        <div class="kpi">
          <h2>$<span id="inventoryValue">0</span></h2>
          <p>Inventory Value</p>
          <span>Price Ã— Stock</span>
        </div>
      </div>

      <!-- CHARTS -->
      <div class="charts">
        <div class="chart-box">
          <h4>Stock Distribution</h4>
          <div style="height:240px;display:flex;align-items:center;justify-content:center;color:#94a3b8">
            ðŸ“Š Connect Chart.js here (Category vs Stock)
          </div>
        </div>

        <div class="chart-box">
          <h4>Top Categories</h4>
          <ul id="categoryList" style="padding-left:18px;color:#475569"></ul>
        </div>
      </div>

      <!-- PRODUCT ANALYTICS TABLE -->
      <div class="table-box">
        <h4>Product Insights</h4>
        <table>
          <thead>
            <tr>
              <th>Product</th>
              <th>Category</th>
              <th>Stock</th>
              <th>Status</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody id="analyticsTable"></tbody>
        </table>
      </div>

    </div>

    <!-- FOOTER -->
    <div class="footer">
      Â© 2026 MyStore Analytics Dashboard
    </div>

  </main>
</div>

<script>
const products = JSON.parse(localStorage.getItem("products")) || [];

const totalProducts = document.getElementById("totalProducts");
const activeProducts = document.getElementById("activeProducts");
const totalStock = document.getElementById("totalStock");
const inventoryValue = document.getElementById("inventoryValue");
const table = document.getElementById("analyticsTable");
const categoryList = document.getElementById("categoryList");

let stockSum = 0;
let valueSum = 0;
let activeCount = 0;
let categoryMap = {};

products.forEach(p=>{
  stockSum += Number(p.stock);
  valueSum += Number(p.stock) * Number(p.price);
  if(p.status === "Active") activeCount++;

  categoryMap[p.category] = (categoryMap[p.category] || 0) + Number(p.stock);

  table.innerHTML += `
    <tr>
      <td>${p.name}</td>
      <td>${p.category}</td>
      <td>${p.stock}</td>
      <td><span class="tag ${p.status==="Active"?"success":"pending"}">${p.status}</span></td>
      <td>$${(p.stock*p.price).toFixed(2)}</td>
    </tr>
  `;
});

Object.keys(categoryMap).forEach(cat=>{
  categoryList.innerHTML += `<li>${cat} â€“ ${categoryMap[cat]} items</li>`;
});

totalProducts.innerText = products.length;
activeProducts.innerText = activeCount;
totalStock.innerText = stockSum;
inventoryValue.innerText = valueSum.toFixed(2);
</script>

</body>
</html>
